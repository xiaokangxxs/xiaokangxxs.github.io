{"title":"WebScraper爬虫","slug":"WebScraper爬虫","date":"2021-04-24T07:26:02.595Z","updated":"2021-04-28T12:24:06.524Z","comments":true,"path":"api/articles/WebScraper爬虫.json","realPath":null,"excerpt":null,"covers":["https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/add-1.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/add-2.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-1.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-2.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-3.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-4.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-5.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-6.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-7.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-8.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-9.png","https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-10.png"],"cover":"http://file.xiaokang.cool/colorful/colorful-3.jpg","content":"<h2 id=\"前置准备\"><a href=\"#前置准备\" class=\"headerlink\" title=\"前置准备\"></a>前置准备</h2><p>chrome浏览器、Web Scraper-0.2.0.18</p>\n<h2 id=\"一、插件安装\"><a href=\"#一、插件安装\" class=\"headerlink\" title=\"一、插件安装\"></a>一、插件安装</h2><p>打开chrome浏览器，地址栏内输入：<code>chrome://extensions/</code>，点击<code>加载已解压的扩展程序</code>，选择webscraper</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/add-1.png\"/> </div>\n加载完成后，在页面鼠标右击选择`检查(或F12)`，可以看到`Web Scraper`选项\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/add-2.png\"/> </div>\n插件以及视频中sitemap下载地址：[https://wwa.lanzous.com/b02b87nda](https://wwa.lanzous.com/b02b87nda)，密码:5rjv \n\n<h2 id=\"二、数据爬取\"><a href=\"#二、数据爬取\" class=\"headerlink\" title=\"二、数据爬取\"></a>二、数据爬取</h2><h3 id=\"2-1-选取目标网址\"><a href=\"#2-1-选取目标网址\" class=\"headerlink\" title=\"2.1 选取目标网址\"></a>2.1 选取目标网址</h3><p>这里我以<code>bilibili</code>为例进行演示，我将会爬取python关键字相关的信息。网址：<a href=\"https://search.bilibili.com/all?keyword=python&from_source=nav_suggest_new\">https://search.bilibili.com/all?keyword=python&amp;from_source=nav_suggest_new</a></p>\n<p>进入开发者模式的<code>Web Scraper</code>选项栏中，准备开始爬取数据。</p>\n<h3 id=\"2-2-新建一个Sitemap\"><a href=\"#2-2-新建一个Sitemap\" class=\"headerlink\" title=\"2.2  新建一个Sitemap\"></a>2.2  新建一个Sitemap</h3><p>点击Create new sitemap，里面有两个选项：Import sitemap是指导入一个已有的sitemap，Create sitemap表示我们要新建一个sitemap。 这里大家可以用我已经测试好的来看下效果，也可以自己动手创建一个新的（爬其它数据），我给大家从新建开始演示。</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-1.png\"/> </div>\nSitemap name：给你要爬取的网页取个名字，需要使用英文字母，并且至少3个字符。比如我抓的是B站有关python的数据，那我就用bi-python-spider来命名。\nStart URL：把需要爬取的网页链接复制到这里。\n\n<p>最后点击下方的Create Sitemap完成新建</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-2.png\"/> </div>\n\n<h3 id=\"2-3-设置这个Sitemap\"><a href=\"#2-3-设置这个Sitemap\" class=\"headerlink\" title=\"2.3  设置这个Sitemap\"></a>2.3  设置这个Sitemap</h3><p>点击 Add new selector 创建一级Selector</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-3.png\"/> </div>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-4.png\"/> </div>\n设置好这个一级的Selector之后，点进去设置二级的Selector\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-5.png\"/> </div>\n重复上面二级Selector的操作，直到选完你想爬的字段\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-6.png\"/> </div>\n\n<h3 id=\"2-4-爬取数据\"><a href=\"#2-4-爬取数据\" class=\"headerlink\" title=\"2.4  爬取数据\"></a>2.4  爬取数据</h3><p>点击Scrape，设置好请求时间间隔和页面加载延迟（默认即可），然后点Start scraping，弹出一个小窗后爬虫就会开始工作。你会得到一个列表，上面有你想要的所有数据。 </p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-7.png\"/> </div>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-8.png\"/> </div>\n由于我们只是爬取了第一页的数据，所以很快我们就可以看到结果\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-9.png\"/> </div>\n\n<h3 id=\"2-5-数据导出\"><a href=\"#2-5-数据导出\" class=\"headerlink\" title=\"2.5 数据导出\"></a>2.5 数据导出</h3><p>这里我们可以将爬取的数据以CSV格式导出，同样也可以将Sitemap导出供他人使用。</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-10.png\"/> </div>\n\n<h2 id=\"三、其它\"><a href=\"#三、其它\" class=\"headerlink\" title=\"三、其它\"></a>三、其它</h2><p>有些时候我们需要爬取的数据往往会有分页，比如我们上面有关python的检索结果<a href=\"https://search.bilibili.com/all?keyword=python&from_source=nav_suggest_new&page=2\">https://search.bilibili.com/all?keyword=python&amp;from_source=nav_suggest_new&amp;page=2</a>，这里第二页是通过路径一个page参数来进行传递。在Web Scraper 中提供了一种写法，可以设置页码范围及递增步长。格式： [开始值-结束值:步长]，举几个例子来说明一下：</p>\n<p>1、获取2-6页，步长为1的页面 ：[2-6] 或者 [2-6:1]</p>\n<p>2、获取2-6页，步长为2的页面：[2-6:2]</p>\n<p>这里小编只是简单介绍总结了Web Scraper的插件的安装以及一个简单的单页面例子。其实Web Scraper的功能远远不止于此，它还能抓取分页、多页多元素的页面，还能抓取二级页面。需要大家自己慢慢摸索~~~ </p>\n","more":"<h2 id=\"前置准备\"><a href=\"#前置准备\" class=\"headerlink\" title=\"前置准备\"></a>前置准备</h2><p>chrome浏览器、Web Scraper-0.2.0.18</p>\n<h2 id=\"一、插件安装\"><a href=\"#一、插件安装\" class=\"headerlink\" title=\"一、插件安装\"></a>一、插件安装</h2><p>打开chrome浏览器，地址栏内输入：<code>chrome://extensions/</code>，点击<code>加载已解压的扩展程序</code>，选择webscraper</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/add-1.png\"/> </div>\n加载完成后，在页面鼠标右击选择`检查(或F12)`，可以看到`Web Scraper`选项\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/add-2.png\"/> </div>\n插件以及视频中sitemap下载地址：[https://wwa.lanzous.com/b02b87nda](https://wwa.lanzous.com/b02b87nda)，密码:5rjv \n\n<h2 id=\"二、数据爬取\"><a href=\"#二、数据爬取\" class=\"headerlink\" title=\"二、数据爬取\"></a>二、数据爬取</h2><h3 id=\"2-1-选取目标网址\"><a href=\"#2-1-选取目标网址\" class=\"headerlink\" title=\"2.1 选取目标网址\"></a>2.1 选取目标网址</h3><p>这里我以<code>bilibili</code>为例进行演示，我将会爬取python关键字相关的信息。网址：<a href=\"https://search.bilibili.com/all?keyword=python&from_source=nav_suggest_new\">https://search.bilibili.com/all?keyword=python&amp;from_source=nav_suggest_new</a></p>\n<p>进入开发者模式的<code>Web Scraper</code>选项栏中，准备开始爬取数据。</p>\n<h3 id=\"2-2-新建一个Sitemap\"><a href=\"#2-2-新建一个Sitemap\" class=\"headerlink\" title=\"2.2  新建一个Sitemap\"></a>2.2  新建一个Sitemap</h3><p>点击Create new sitemap，里面有两个选项：Import sitemap是指导入一个已有的sitemap，Create sitemap表示我们要新建一个sitemap。 这里大家可以用我已经测试好的来看下效果，也可以自己动手创建一个新的（爬其它数据），我给大家从新建开始演示。</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-1.png\"/> </div>\nSitemap name：给你要爬取的网页取个名字，需要使用英文字母，并且至少3个字符。比如我抓的是B站有关python的数据，那我就用bi-python-spider来命名。\nStart URL：把需要爬取的网页链接复制到这里。\n\n<p>最后点击下方的Create Sitemap完成新建</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-2.png\"/> </div>\n\n<h3 id=\"2-3-设置这个Sitemap\"><a href=\"#2-3-设置这个Sitemap\" class=\"headerlink\" title=\"2.3  设置这个Sitemap\"></a>2.3  设置这个Sitemap</h3><p>点击 Add new selector 创建一级Selector</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-3.png\"/> </div>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-4.png\"/> </div>\n设置好这个一级的Selector之后，点进去设置二级的Selector\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-5.png\"/> </div>\n重复上面二级Selector的操作，直到选完你想爬的字段\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-6.png\"/> </div>\n\n<h3 id=\"2-4-爬取数据\"><a href=\"#2-4-爬取数据\" class=\"headerlink\" title=\"2.4  爬取数据\"></a>2.4  爬取数据</h3><p>点击Scrape，设置好请求时间间隔和页面加载延迟（默认即可），然后点Start scraping，弹出一个小窗后爬虫就会开始工作。你会得到一个列表，上面有你想要的所有数据。 </p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-7.png\"/> </div>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-8.png\"/> </div>\n由于我们只是爬取了第一页的数据，所以很快我们就可以看到结果\n\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-9.png\"/> </div>\n\n<h3 id=\"2-5-数据导出\"><a href=\"#2-5-数据导出\" class=\"headerlink\" title=\"2.5 数据导出\"></a>2.5 数据导出</h3><p>这里我们可以将爬取的数据以CSV格式导出，同样也可以将Sitemap导出供他人使用。</p>\n<div align=\"center\"> <img width=\"600px\" src=\"https://raw.githubusercontent.com/xiaokangxxs/notebook/master/docs/spider/scraper-10.png\"/> </div>\n\n<h2 id=\"三、其它\"><a href=\"#三、其它\" class=\"headerlink\" title=\"三、其它\"></a>三、其它</h2><p>有些时候我们需要爬取的数据往往会有分页，比如我们上面有关python的检索结果<a href=\"https://search.bilibili.com/all?keyword=python&from_source=nav_suggest_new&page=2\">https://search.bilibili.com/all?keyword=python&amp;from_source=nav_suggest_new&amp;page=2</a>，这里第二页是通过路径一个page参数来进行传递。在Web Scraper 中提供了一种写法，可以设置页码范围及递增步长。格式： [开始值-结束值:步长]，举几个例子来说明一下：</p>\n<p>1、获取2-6页，步长为1的页面 ：[2-6] 或者 [2-6:1]</p>\n<p>2、获取2-6页，步长为2的页面：[2-6:2]</p>\n<p>这里小编只是简单介绍总结了Web Scraper的插件的安装以及一个简单的单页面例子。其实Web Scraper的功能远远不止于此，它还能抓取分页、多页多元素的页面，还能抓取二级页面。需要大家自己慢慢摸索~~~ </p>\n","categories":[{"name":"其它","path":"api/categories/其它.json"}],"tags":[{"name":"爬虫","path":"api/tags/爬虫.json"},{"name":"chrome插件","path":"api/tags/chrome插件.json"},{"name":"手把手教学","path":"api/tags/手把手教学.json"}]}